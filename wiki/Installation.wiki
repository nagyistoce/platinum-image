#summary How to install and build Platinum
#labels Phase-Deploy,Featured

=1. Download=

  # Install a development environment, such as VS.net
  # Download the following additional source code:
    * [http://www.cmake.org/HTML/Download.html CMake 2.4.6]
    * [http://www.fltk.org/software.php FLTK 1.1.7]
    * [http://www.itk.org/HTML/Download.php ITK 3.0.1] - you'll have to fill in the questionnaire
    * [http://www.vtk.org/get-software.php#latest VTK 5.0.3]
  # Get yourself an [http://subversion.tigris.org/links.html#clients SVN client] like for example [http://tortoisesvn.tigris.org/ TortoiseSVN]. *Mac:* the [http://www.codingmonkeys.de/mbo/articles/tag/subversion base command-line package] together with XCode's built in SVN-support (see below) and [http://www.lachoseinteractive.net/en/community/subversion/svnx/features/ svnX] is recommended. (optionally, there is also a plugin for Finder similar to TortoiseSVN called [http://scplugin.tigris.org/ SCPlugin])
=2. Install=

  * CMake
  * The SVN client

=3. Build (Windows)=
==ITK==
  # Decompress ”!InsightToolkit-3.0.1.zip” _(suggested location:   C:\Lib\InsightToolkit-3.0.1)_ 
  # Run CMake
  # Set source: ”C:\Lib\!InsightToolkit-3.0.1”
  # Set build: ”C:\Lib\Bin\ITK”
    # Press `Configure…` (may take some time)
  # Set the following options:
    * Disable BUILD_EXAMPLES
    * Disable BUILD_SHARED_LIBS
    * Disable BUILD_TESTING
  # Press `Configure…` again (may take some time)
  # Press `OK` (build files will be written to ”C:\Lib\Bin\ITK”) 
  # Open `ITK.sln`
  # Select ”Build !All_Build” in VS.net. wait… (appr. 15 min)

  # Ensure that the following library files were built (in dir `C:\Lib\Bin\ITK\bin\debug`)

    * ITKAlgorithms
    * ITKBasicFilters
    * ITKCommon
    * ITKFEM
    * ITKIO
    * ITKMetaIO
    * ITKNumerics
    * itkpng
    * ITKStatistics
    * itkzlib

==VTK==
_VTK will be used in Platinum, however it is not necessary at the moment_
  # Decompress "VTK-5.0.3.zip” _(suggested location:   C:\Lib\VTK-5.0.3)_ 
  # Run CMake
  # Set source: ”C:\Lib\VTK-5.0.3”
  # Set build: ”C:\Lib\Bin\VTK”
    # Press `Configure…` (may take some time)
  # Set the following options:
    * Disable BUILD_EXAMPLES
    * Disable BUILD_SHARED_LIBS
    * Disable BUILD_TESTING (You might have to check the "Show Advanced Values" box)
  # Press `Configure…` again (may take some time)
  # Press `OK` (build files will be written to ”C:\Lib\Bin\VTK”) 
  # Open `ITK.sln`
  # Select ”Build !All_Build” in VS.net. Wait…


==FLTK==
  # Decompress fltk-1.1.7-source.zip” _(suggested location: C:\Lib\fltk-1.1.7)_ 
  # Run CMake
  # Set source: ”C:\Lib\fltk-1.1.7”
  # Set build: ”C:\Lib\Bin\FLTK”
  # Press `Configure…` (may take some time)
  # Set the following options:
    * Disable BUILD_EXAMPLES
    * Disable BUILD_SHARED_LIBS
    * Disable BUILD_TESTING
  # Press `Configure…` again (may take some time)
  # Press `OK` (build files will be written to ”C:\Lib\Bin\FLTK”) 
  # Open `FLTK.sln`
  # Select ”Build !All_Build” in VS.net. wait… (appr. 2 min)

==Platinum==
  # Check out and build Platinum.
  # Create a folder for the Platinum source (suggestion: `C:\Lib\Platinum`)
  # Check out (download) the latest Platinum source by right-clicking in the new source folder and selecting "SVN checkout..."
  # TortoiseSVN settings:
    * If you don not plan to contribute to the platinum source, you can use this address for SVN:
    http://platinum-image.googlecode.com/svn/trunk/%20platinum-image
    * Note the space between trunk/ and platinum-image
    * If you are going to contribute, you will need to access SVN with your _GMail_ account. Contact one of the project administrators and give them your Google account name to be added as a member.
  # enter address from this page: http://code.google.com/p/platinum-image/source
  # Press `OK`, you will now be asked for name and password (also on the above page)
  # Please wait...
  # You now have the Platinum source
  # Run CMake
  # Set source: ”C:\Lib\Platinum”
  # Set build: ”C:\Lib\Bin\Platinum”
  # (no options need to be changed)
  # Press `Configure…` (may take some time)
  # Press `OK` (build files will be written to ”C:\Lib\Bin\Platinum”) 
  # Open `Platinum.sln`
  # Select ”Build !All_Build” in VS.net. wait… (appr. 2 min)
  # Enjoy!

=3. Build (UNIX)=
Repeat these steps for ITK, VTK, FLTK and Platinum - respectively, and in that order:
  # Set up a "build" directory - make a subdirectory inside where the ITK, FLTK and Platinum source code directories are kept. For example, if `~Myname/Projects/PT/ITK/` is the path to the ITK source, create `~Myname/Projects/PT/bin/`
  # Create one more directory level for each particular project, e.g. `~Myname/Projects/PT/bin/ITK/`. Enter this dir and run CMake:
   `cmake -i ~Myname/Projects/PT/ITK/`
   * CMake will now ask for some variables. Most can be left at default values. If you will be developing Platinum, set `CMAKE_BUILD_TYPE` to _Debug_ for all the projects
   * You may have to locate the FLTK and ITK directories manually (asking for `FLTK_DIR` or `ITK_DIR`). In this case, specify the path to the "build" directory, e.g. `~Myname/Projects/PT/bin/ITK/`
  # When CMake has shown Configuring done, Generating done, Build files have been written to: _(where the build files go)_, the project is ready for build.
  # Type `make` and press return (this does not apply if you chose XCode on Mac, see below)
  # The build process will start, and may take some time. When done, repeat the same steps for the next project or start using Platinum when all three are done.

*NOTE:* the UNIX build process is particular about the compiler used, and that all libraries used were compiled using the same compiler. If the build fails  without a descriptive error message this may be the case. Try setting the compiler manually for all three projects by running `cmake -D CMAKE_CXX_COMPILER:STRING=/usr/bin/c++` (this sets the compiler to `c++`) in each build directory, and then running `make` once again.  

==XCode==
If you are on Mac OS X you may use the `-G Xcode` flag with CMake (all other instructions as above) to generate Platinum as an XCode project instead of a makefile. Once you have the XCode project file, the project is built by selecting the appropriate command inside XCode. NOTE: ITK, VTK or FLTK cannot be built with XCode, but are easy to build with `make` anyway.

You may also use XCode for updating/commiting SVN: select "Configure SCM" from the SCM menu, choose Subversion as SCM system and click "Enable SCM". When CMakeLists is changed, the project file will be rewritten on the next Build. XCode will notice this shortly afterwards and ask You to reload. When this happens, SVN must be re-enabled as described above.

*Note:* for Xcode SVN to work, you have to have SVN previously set up. This can be done by command-line or, preferrably, with a tool like [http://www.lachoseinteractive.net/en/community/subversion/svnx/features/ svnX].